<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:a4j="http://richfaces.org/a4j" 
      xmlns:rich="http://richfaces.org/rich"> 
      
	<ui:composition template="/application.xhtml">
	
		<ui:define name="title">Listagem de Tarefas</ui:define>
		
		<ui:define name="content">
			<h3>Abaixo a listagem com todas das tarefas cadastradas: </h3><br/>
			
			<h:form rendered="#{not empty tarefaController.tarefas}">
				<h:dataTable border="1" var="trf" value="#{tarefaController.tarefas}" style="width: 700px">
					<h:column id="column1"> 
						<f:facet name="header">Título</f:facet>
						#{trf.titulo}
					</h:column>	
					<h:column id="column2">
						<f:facet name="header">Descrição</f:facet>
						#{trf.descricao}
					</h:column>
					<h:column id="column3">
						<f:facet name="header">Prioridade</f:facet>
						#{trf.prioridade}
					</h:column>
					<h:column id="column4">
						<f:facet name="header">Estimativa de Horas</f:facet>
						#{trf.estimativaHoras}
					</h:column>
					<h:column id="column5">
						<f:facet name="header">Projeto</f:facet>
						#{trf.projeto.titulo}
					</h:column>
					<h:column >
						<f:facet name="header">Opções</f:facet>	
							<h:commandButton action="#{tarefaController.editTarefa(trf)}" value="Atualizar" />
							<h:commandButton action="#{tarefaController.excluirTarefaById(trf.id)}" value="Excluir" />
					</h:column>
				</h:dataTable>
				<h:button value="Voltar" action="voltar" immediate="true" outcome="paginalogada" ></h:button><br/>
			</h:form>
		</ui:define>
	</ui:composition>  
</html>